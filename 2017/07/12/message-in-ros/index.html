<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1, minimum-scale=1,user-scalable=no,maximum-scale=1"><meta name="format-detection" content="telephone=no"><meta name="format-detection" content="address=no"><meta property="og:title" content="Message in ROS"><meta property="og:type" content="article"><meta property="og:url" content="https://jack-q.github.io/blog/2017/07/12/message-in-ros/"><meta name="theme-color" content="#d5d5eb"><link rel="manifest" href="/blog/manifest.json"><title>Jack Q's Blog</title><link rel="stylesheet" href="/blog/css/main.css?v=20170818"></head><body><aside class="jq-blog-aside"><header class="jq-nav-header"><div class="nav-bar-toggle" title="toggle sidebar"><span class="toggle-line-1"></span><span class="toggle-line-2"></span><span class="toggle-line-3"></span></div><div class="nav-bar"><div class="nav-bar-icon"><div class="icon"><svg viewBox="0 0 1000 1000" x="0px" xml:space="preserve" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" y="0px">
<polygon points="20,20 250,20 20,250 "/>
<polygon points="325,20 325,400 175,400 175,140 295,20 "/>
<circle cx="249.89" cy="499.769" r="75"/>
<path d="M350,425h150v74.962c0,0,2.72,150.038,150.426,150.038S715,650,715,650v150c0,0,239.892,0-64.574,0 C350.325,800,350,499.962,350,499.962V425z"/>
<circle cx="905" cy="500" r="75"/>
<path d="M605,50v150h75.036c0,0,149.964,2.896,149.964,150.552S830,400,830,400h150c0,0,0,254.915,0-49.448 C980,50.552,680.036,50,680.036,50H605z"/>
<polygon points="738,650 738,800 813,725 "/>
<rect height="100" width="100" x="350" y="300"/>
<path d="M450,403"/>
<rect height="100" width="100" x="477.392" y="50"/>
<rect height="100" width="100" x="411" y="180"/>
<rect height="280" width="150" x="830" y="600"/>
<path d="M175,600h150c0,0,0-120,0,130S75,980,75,980H20V830c0,0-51.286,0,51.857,0S175,730,175,730V600z"/>
<polygon points="980,902 830,902 905,977 "/>
</svg></div><div class="label">Jack Q</div></div></div></header><div class="aside-left"><div class="aside-header"><div class="wrapper"><div class="icon"><svg viewBox="0 0 1000 1000" x="0px" xml:space="preserve" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" y="0px">
<polygon points="20,20 250,20 20,250 "/>
<polygon points="325,20 325,400 175,400 175,140 295,20 "/>
<circle cx="249.89" cy="499.769" r="75"/>
<path d="M350,425h150v74.962c0,0,2.72,150.038,150.426,150.038S715,650,715,650v150c0,0,239.892,0-64.574,0 C350.325,800,350,499.962,350,499.962V425z"/>
<circle cx="905" cy="500" r="75"/>
<path d="M605,50v150h75.036c0,0,149.964,2.896,149.964,150.552S830,400,830,400h150c0,0,0,254.915,0-49.448 C980,50.552,680.036,50,680.036,50H605z"/>
<polygon points="738,650 738,800 813,725 "/>
<rect height="100" width="100" x="350" y="300"/>
<path d="M450,403"/>
<rect height="100" width="100" x="477.392" y="50"/>
<rect height="100" width="100" x="411" y="180"/>
<rect height="280" width="150" x="830" y="600"/>
<path d="M175,600h150c0,0,0-120,0,130S75,980,75,980H20V830c0,0-51.286,0,51.857,0S175,730,175,730V600z"/>
<polygon points="980,902 830,902 905,977 "/>
</svg></div><div class="name">Jack Q</div></div></div><div class="aside-center"><div class="icon-header"><div class="icon-item"><a href="/blog/" data-smooth="data-smooth" data-smooth-type="list"><i class="material-icons">home</i><span class="tooltip">home</span></a></div><div class="icon-item"><span data-content="tag"><i class="material-icons">label_outline</i><span class="tooltip">tag</span></span></div><div class="icon-item"><span data-content="category"><i class="material-icons">folder_open</i><span class="tooltip">category</span></span></div><div class="icon-item"><span data-content="archive"><i class="material-icons">date_range</i><span class="tooltip">archive</span></span></div><div class="icon-item toc-header"><span data-content="content"><i class="material-icons">toc</i><span class="tooltip">content</span></span></div></div><div class="aside-center-content"><section class="aside-tag"><ul class="tag-list"><li class="tag-list-item"><a class="tag-list-link" href="/blog/tags/c/" data-smooth="data-smooth" data-smooth-type="list">C++</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/blog/tags/graphviz/" data-smooth="data-smooth" data-smooth-type="list">GraphViz</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/blog/tags/java/" data-smooth="data-smooth" data-smooth-type="list">Java</a><span class="tag-list-count">5</span></li><li class="tag-list-item"><a class="tag-list-link" href="/blog/tags/r/" data-smooth="data-smooth" data-smooth-type="list">R</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/blog/tags/blog/" data-smooth="data-smooth" data-smooth-type="list">blog</a><span class="tag-list-count">4</span></li><li class="tag-list-item"><a class="tag-list-link" href="/blog/tags/cas/" data-smooth="data-smooth" data-smooth-type="list">cas</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/blog/tags/git/" data-smooth="data-smooth" data-smooth-type="list">git</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/blog/tags/gpg/" data-smooth="data-smooth" data-smooth-type="list">gpg</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/blog/tags/gulp/" data-smooth="data-smooth" data-smooth-type="list">gulp</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/blog/tags/hexo/" data-smooth="data-smooth" data-smooth-type="list">hexo</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/blog/tags/installation/" data-smooth="data-smooth" data-smooth-type="list">installation</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/blog/tags/java/" data-smooth="data-smooth" data-smooth-type="list">java</a><span class="tag-list-count">4</span></li><li class="tag-list-item"><a class="tag-list-link" href="/blog/tags/javascript/" data-smooth="data-smooth" data-smooth-type="list">javascript</a><span class="tag-list-count">3</span></li><li class="tag-list-item"><a class="tag-list-link" href="/blog/tags/jekyll/" data-smooth="data-smooth" data-smooth-type="list">jekyll</a><span class="tag-list-count">3</span></li><li class="tag-list-item"><a class="tag-list-link" href="/blog/tags/linux/" data-smooth="data-smooth" data-smooth-type="list">linux</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/blog/tags/network/" data-smooth="data-smooth" data-smooth-type="list">network</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/blog/tags/npm/" data-smooth="data-smooth" data-smooth-type="list">npm</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/blog/tags/python/" data-smooth="data-smooth" data-smooth-type="list">python</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/blog/tags/react/" data-smooth="data-smooth" data-smooth-type="list">react</a><span class="tag-list-count">3</span></li><li class="tag-list-item"><a class="tag-list-link" href="/blog/tags/requirejs/" data-smooth="data-smooth" data-smooth-type="list">requirejs</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/blog/tags/ros/" data-smooth="data-smooth" data-smooth-type="list">ros</a><span class="tag-list-count">3</span></li><li class="tag-list-item"><a class="tag-list-link" href="/blog/tags/tex/" data-smooth="data-smooth" data-smooth-type="list">tex</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/blog/tags/theme/" data-smooth="data-smooth" data-smooth-type="list">theme</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/blog/tags/visualization/" data-smooth="data-smooth" data-smooth-type="list">visualization</a><span class="tag-list-count">2</span></li></ul></section><section class="aside-category"><ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/blog/categories/blog/" data-smooth="data-smooth" data-smooth-type="list">blog</a><span class="category-list-count">4</span></li><li class="category-list-item"><a class="category-list-link" href="/blog/categories/javascript/" data-smooth="data-smooth" data-smooth-type="list">javascript</a><span class="category-list-count">3</span></li><li class="category-list-item"><a class="category-list-link" href="/blog/categories/linux/" data-smooth="data-smooth" data-smooth-type="list">linux</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/blog/categories/network/" data-smooth="data-smooth" data-smooth-type="list">network</a><span class="category-list-count">1</span></li></ul></section><section class="aside-archive"><ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/blog/archives/2017/08/" data-smooth="data-smooth" data-smooth-type="list"><span>Aug</span><span>2017</span></a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/blog/archives/2017/07/" data-smooth="data-smooth" data-smooth-type="list"><span>Jul</span><span>2017</span></a><span class="archive-list-count">5</span></li><li class="archive-list-item"><a class="archive-list-link" href="/blog/archives/2017/05/" data-smooth="data-smooth" data-smooth-type="list"><span>May</span><span>2017</span></a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/blog/archives/2017/04/" data-smooth="data-smooth" data-smooth-type="list"><span>Apr</span><span>2017</span></a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/blog/archives/2017/03/" data-smooth="data-smooth" data-smooth-type="list"><span>Mar</span><span>2017</span></a><span class="archive-list-count">12</span></li><li class="archive-list-item"><a class="archive-list-link" href="/blog/archives/2017/02/" data-smooth="data-smooth" data-smooth-type="list"><span>Feb</span><span>2017</span></a><span class="archive-list-count">8</span></li><li class="archive-list-item"><a class="archive-list-link" href="/blog/archives/2017/01/" data-smooth="data-smooth" data-smooth-type="list"><span>Jan</span><span>2017</span></a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/blog/archives/2015/09/" data-smooth="data-smooth" data-smooth-type="list"><span>Sep</span><span>2015</span></a><span class="archive-list-count">4</span></li><li class="archive-list-item"><a class="archive-list-link" href="/blog/archives/2015/08/" data-smooth="data-smooth" data-smooth-type="list"><span>Aug</span><span>2015</span></a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/blog/archives/2015/07/" data-smooth="data-smooth" data-smooth-type="list"><span>Jul</span><span>2015</span></a><span class="archive-list-count">2</span></li></ul></section><section class="aside-content"><ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#Message-format-and-definition"><span class="toc-text">Message format and definition</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Message-file"><span class="toc-text">Message file</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Utilize-messages"><span class="toc-text">Utilize messages</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Make-and-list"><span class="toc-text">Make and list</span></a></li></ol></section></div></div><div class="aside-bottom"><div class="aside-contact"><a class="aside-contact-item" href="https://github.com/Jack-Q/" title="Profile at GitHub" target="_blank"><svg class="aside-github" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9 19c-5 1.5-5-2.5-7-3m14 6v-3.87a3.37 3.37 0 0 0-.94-2.61c3.14-.35 6.44-1.54 6.44-7A5.44 5.44 0 0 0 20 4.77 5.07 5.07 0 0 0 19.91 1S18.73.65 16 2.48a13.38 13.38 0 0 0-7 0C6.27.65 5.09 1 5.09 1A5.07 5.07 0 0 0 5 4.77a5.44 5.44 0 0 0-1.5 3.78c0 5.42 3.3 6.61 6.44 7A3.37 3.37 0 0 0 9 18.13V22"></path></svg></a><a class="aside-contact-item" href="https://www.facebook.com/JackQ2010" title="Profile at Facebook" target="_blank"><svg class="aside-facebook" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z"></path></svg></a><a class="aside-contact-item" href="https://twitter.com/Jack_Q_2010" title="Profile at Twitter" target="_blank"><svg class="aside-twitter" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M23 3a10.9 10.9 0 0 1-3.14 1.53 4.48 4.48 0 0 0-7.86 3v1A10.66 10.66 0 0 1 3 4s-4 9 5 13a11.64 11.64 0 0 1-7 2c9 5 20 0 20-11.5a4.5 4.5 0 0 0-.08-.83A7.72 7.72 0 0 0 23 3z"></path></svg></a><a class="aside-contact-item" href="mailto:qiaobo@outlook.com?subject=Mail%20from%20blog" title="Send Mail" target="_blank"><svg class="aside-mail" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"></path>
<polyline points="22,6 12,13 2,6"></polyline></svg></a></div><div class="aside-copy">2017 &copy; Jack Q</div></div></div></aside><section class="page-loader"><div class="loading-animate"></div><div class="error-animate"><i class="material-icons">error</i><div class="message">Network Error...</div><div class="suggestion">Check your network connection and reload or refresh this page.</div></div></section><section class="article-content" itemscope itemtype="http://schema.org/Article" role="main"><h1 itemprop="name">Message in ROS</h1><div class="post-meta"><a class="meta-date" href="/blog/archives/2017/07/" data-smooth="data-smooth" data-smooth-type="list"><span itemprop="datePublished" content="2017-07-12">2017-07-12</span></a><span class="meta-categories"></span><span class="meta-tags"><ul class="tag-list"><li class="tag-list-item"><a class="tag-list-link" href="/blog/tags/ros/" data-smooth="data-smooth" data-smooth-type="list">ros</a></li></ul></span></div><div class="post-content"><p>Messages are spread across the whole system of a ROS instance,
which are the essence and physical base of communication and coordination 
in ROS system. The message is a serializable and platform agnostic (in the 
perspective of OS, programming language, etc) specification of structured data.</p>
<p>Most of information in this post is refer to <a href="http://wiki.ros.org/msg" target="_blank" rel="external">msg page in ROS wiki</a> and <a href="https://github.com/ros/ros/blob/kinetic-devel/core/roslib/src/roslib/msgs.py" target="_blank" rel="external">source code for ROS core module</a>.</p>
<p>A directly connected concept in ROS is <em>Topic</em>, which is named bus for message exchange, which will be covered in later post. The <em>Service</em> is also based on 
the infrastructure of message, which will be illustrated in next post.</p>
<a id="more"></a>
<h2 id="Message-format-and-definition" class="article-heading">Message format and definition<a class="article-anchor" href="#Message-format-and-definition" data-smooth="" data-smooth-type="post" aria-hidden="true"></a></h2><p>Message are defined in <code>msg</code> files, which list the detailed component of a
message. Each message of an component can be one of the following types:</p>
<ul>
<li><p>Primitive types</p>
<p>  Currently supported primitive types:</p>
<ul>
<li><code>int*</code>: integer of various size, including <code>int8</code>, <code>int16</code>, <code>int32</code>, <code>int64</code>;</li>
<li><code>uint*</code>: unsigned integer of various size, including <code>uint8</code>, <code>uint16</code>, <code>uint32</code>, <code>uint64</code>;</li>
<li><code>bool</code>: boolean value;</li>
<li><code>float*</code>: floating point number of various size, including <code>float32</code>, <code>float64</code> (corresponding to <code>double</code> type);</li>
<li><code>string</code>: ASCII string;</li>
<li><code>time</code>: sec &amp; nsec (nanosecond), two unsigned 32-bit integers</li>
<li><p><code>duration</code>: sec &amp; nsec, two signed 32-bit integers
The last two item can be treated as composite data type since they are actually defined as the following (<a href="https://github.com/ros/ros/blob/kinetic-devel/core/roslib/src/roslib/msgs.py#L695-L698" target="_blank" rel="external">reference</a>): </p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="comment">## time as msg spec. time is unsigned </span></div><div class="line">TIME_MSG     = <span class="string">"uint32 secs\nuint32 nsecs"</span></div><div class="line"><span class="comment">## duration as msg spec. duration is just like time except signed</span></div><div class="line">DURATION_MSG = <span class="string">"int32 secs\nint32 nsecs"</span></div></pre></td></tr></table></figure>
<p>Besides, there are some deprecated types which may occur in old packages:</p>
</li>
<li><code>char</code>: aliased to <code>uint8</code></li>
<li><code>byte</code>: aliased to <code>int8</code></li>
</ul>
</li>
<li>Arrays<ul>
<li>fixed length(<code>type[size]</code>): direct serialization;</li>
<li>variable length(<code>type[]</code>): serialized as length prefixed listing 
(length in <code>uint32</code>).</li>
</ul>
</li>
<li><p>Composite type as defined in other message file</p>
<p>  Message definition itself can be used as a type for other message definition, which just worked as a composite of several primitive types.</p>
<p>  Some composite message are defined in ROS core packages anc commonly used 
  as convention. The common standard message are defined in <a href="https://github.com/ros/std_msgs" target="_blank" rel="external">std_msgs</a> which can be used for quick prototyping.
  Notable item are:</p>
<ul>
<li><code>Header</code>: header type is an standard type to provide standard metadata for a message, which is consisted of an sequence number(<code>uint32</code>), timestamp (<code>time</code>) and an id of frame (<code>string</code>). For some historical reason, this field is wide used just as an primitive type.</li>
<li><code>Empty</code>: empty type is just as it is named, which contains no content (defined in an empty file) and can be used as an signal.</li>
<li>Multi-dimension array: define multi-dimension array, with the layout specified as <a href="https://github.com/ros/std_msgs/blob/groovy-devel/msg/MultiArrayLayout.msg" target="_blank" rel="external">MultiArrayLayout</a></li>
<li><p><code>ColorRGBA</code>: 32bit floating point number describe color format (in the order of red, green, blue, alpha)</p>
<p>However, most of the wrapper types are simply use <code>data</code> field for its 
payload, which lacks of sufficient semantic for maintains. Thus out of consideration of maintenance, a dedicated message definition is required.
Since most of other message types Some common used message types are defined in <a href="https://github.com/ros/common_msgs" target="_blank" rel="external">common message</a></p>
</li>
</ul>
</li>
<li><p>Constant</p>
<p>  Message definition can also contain constant definition, in the form of 
  assignment of value to primitive value. (As denoted before, the <code>time</code> and 
  <code>duration</code> are special primitive value with extra structure, these types cannot be assigned as constant directly)</p>
</li>
</ul>
<h2 id="Message-file" class="article-heading">Message file<a class="article-anchor" href="#Message-file" data-smooth="" data-smooth-type="post" aria-hidden="true"></a></h2><p>Message definition are stored in message file (<em>.msg</em>) and located in <code>msg</code> 
directory inside of <code>src</code> of a ROS package.</p>
<p>The directory structure of a simple package with an message definition is illustrated as follows:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">.</div><div class="line">├── CMakeLists.txt</div><div class="line">├── msg</div><div class="line">│   └── Num.msg</div><div class="line">├── package.xml</div><div class="line">└── src</div></pre></td></tr></table></figure>
<h2 id="Utilize-messages" class="article-heading">Utilize messages<a class="article-anchor" href="#Utilize-messages" data-smooth="" data-smooth-type="post" aria-hidden="true"></a></h2><p>To utilize messages, the definition of the message in language specific form ought to be generated and the message handling and processing are also required to be supported. These can be done by including <code>message_generation</code>
and <code>message_runtime</code> package in <code>package.xml</code> (or un-comment the illustration generated by default):
<figure class="highlight xml"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">package</span>&gt;</span></div><div class="line">  <span class="comment">&lt;!-- ... --&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">build_depend</span>&gt;</span>message_generation<span class="tag">&lt;/<span class="name">build_depend</span>&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">run_depend</span>&gt;</span>message_runtime<span class="tag">&lt;/<span class="name">run_depend</span>&gt;</span></div><div class="line">  <span class="comment">&lt;!-- ... --&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">package</span>&gt;</span></div></pre></td></tr></table></figure></p>
<p>Then in build file (the <code>CMakeLists.txt</code> at the root of of an package in src package), register defined message and enable message findings, including the following configuration items:</p>
<ol>
<li><p>Add message generation package to required component</p>
<p>(this step affect the process of the whole project from this point, thus 
latter pcakage can be processed correctly without proper configuration of this item, while which is not encouraged)</p>
<figure class="highlight cmake"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">find_package</span>(catkin REQUIRED COMPONENTS</div><div class="line">  roscpp</div><div class="line">  rospy</div><div class="line">  std_msgs</div><div class="line">  message_generation</div><div class="line">)</div></pre></td></tr></table></figure>
</li>
<li><p>expose message in current package</p>
<figure class="highlight cmake"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">add_message_files(</div><div class="line">  FILES</div><div class="line">  Num.msg</div><div class="line">)</div></pre></td></tr></table></figure>
</li>
<li><p>import messages from packages</p>
<figure class="highlight cmake"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">generate_messages(</div><div class="line">  DEPENDENCIES</div><div class="line">  std_msgs</div><div class="line">)</div></pre></td></tr></table></figure>
</li>
<li><p>declare dependencies to build tool</p>
<figure class="highlight cmake"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">catkin_package(</div><div class="line">  CATKIN_DEPENDS roscpp rospy std_msgs message_runtime</div><div class="line">)</div></pre></td></tr></table></figure>
</li>
</ol>
<p>The content of the package is a listing of the entries in the this message.
Each entry is specified in separated line, while blank line and hash started 
lines are ignored. Each entry is declared by <code>type</code> and <code>name</code> separated by whitespace. For the constant, a <code>value</code> filed led by <code>=</code> is attached to the 
end of entry declaration.</p>
<p>The following is a simple message file:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"># header entry, using Header type from std_msgs</div><div class="line">Header header</div><div class="line"># primitive entry</div><div class="line">int32 num</div></pre></td></tr></table></figure>
<h2 id="Make-and-list" class="article-heading">Make and list<a class="article-anchor" href="#Make-and-list" data-smooth="" data-smooth-type="post" aria-hidden="true"></a></h2><p>After all messages configuration setup, rebuild ros package to check potential 
errors and generate language specific headers/sources in <code>devel</code> directory.</p>
<p>Generated files including headers for C (in <code>devel/include</code>), python lib (in <code>devel/lib/python2.7/dist-packages/</code>), CMake configurations (in <code>devel/share/&lt;package-name&gt;/</code>), LISP code (in <code>devel/share/common-lisp</code>), Node.js code (in <code>devel/share/gennodejs</code>)</p>
<p>These generated files can be used to leverage IDE supports to messages (as well as services, actions, etc) and support other conventional tools to 
support ros package development. These introspection information can also be used to assist package shell complement, for example, <code>rosmsg show &lt;package-name&gt;/&lt;message-name&gt;</code>. (For shell complement feature, an sync of
package information is required before these actions, which is using <code>source devel/setup.zsh</code> command).</p>
</div><div class="post-licence" tabindex="0"><div class="post-licence-icon" title="CC-BY-SA 4.0"><i class="cc cc-cc"></i><i class="cc cc-by"></i><i class="cc cc-sa"></i></div><div class="post-licence-text"><div class="post-licence-label">CC-BY-SA 4.0</div>The content of this post is licensed under a <a rel="license" href="http://creativecommons.org/licenses/by-sa/4.0/" target="_blank">Creative Commons Attribution-ShareAlike 4.0 International License</a>.</div></div><div class="post-content-end">END</div><div class="post-prev-next"><div class="post-prev"><a class="post-prev-link" href="/blog/2017/07/07/configure-ros-environment/" data-smooth="data-smooth" data-smooth-type="post">Configure ROS Environment</a></div><div class="post-next"><a class="post-next-link" href="/blog/2017/07/12/service-in-ros/" data-smooth="data-smooth" data-smooth-type="post">Service in ROS</a></div></div><div class="post-comment"><div id="disqus_thread">Disqus is loading...</div></div><script id="disqus_config" data-disqus-url="https://jack-q.github.io/blog/2017/07/12/message-in-ros/" data-disqus-identifier="20170712-ROSMSG" data-disqus-title="Message in ROS">window.disqus_config = function () {
  var conf = document.getElementById('disqus_config')
  this.page = this.page || {};
  this.page.url = conf.dataset['disqusUrl'];  
  this.page.identifier = conf.dataset['disqusIdentifier'];
  this.page.title = conf.dataset['disqusTitle'];
};</script><script id="disqus_loader">(function() {
  if(document.getElementById('script-disqus')) return;
  var d = document, s = d.createElement('script');
  s.src = '//jackq.disqus.com/embed.js';
  s.id='script-disqus';
  s.setAttribute('data-timestamp', +new Date());
  (d.head || d.body).appendChild(s);
})();</script></section><script>if(!window.ga){
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-63336636-1', 'auto');
  ga('send', 'pageview');
}
</script><script src="/blog/js/jquery.min.js?v=20170818"></script><script src="/blog/js/main.js?v=20170818"></script></body></html>