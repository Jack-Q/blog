<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1, minimum-scale=1,user-scalable=no,maximum-scale=1"><meta name="format-detection" content="telephone=no"><meta name="format-detection" content="address=no"><meta property="og:title" content="Install Global npm Package For Current User Without Privilege"><meta property="og:type" content="article"><meta property="og:url" content="https://jack-q.github.io/blog/2017/07/30/install-global-npm-package-for-current-user-without-privilege/"><meta name="theme-color" content="#d5d5eb"><link rel="manifest" href="/blog/manifest.json"><title>Jack Q's Blog</title><link rel="stylesheet" href="/blog/css/main.css?v=20170818"></head><body><aside class="jq-blog-aside"><header class="jq-nav-header"><div class="nav-bar-toggle" title="toggle sidebar"><span class="toggle-line-1"></span><span class="toggle-line-2"></span><span class="toggle-line-3"></span></div><div class="nav-bar"><div class="nav-bar-icon"><div class="icon"><svg viewBox="0 0 1000 1000" x="0px" xml:space="preserve" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" y="0px">
<polygon points="20,20 250,20 20,250 "/>
<polygon points="325,20 325,400 175,400 175,140 295,20 "/>
<circle cx="249.89" cy="499.769" r="75"/>
<path d="M350,425h150v74.962c0,0,2.72,150.038,150.426,150.038S715,650,715,650v150c0,0,239.892,0-64.574,0 C350.325,800,350,499.962,350,499.962V425z"/>
<circle cx="905" cy="500" r="75"/>
<path d="M605,50v150h75.036c0,0,149.964,2.896,149.964,150.552S830,400,830,400h150c0,0,0,254.915,0-49.448 C980,50.552,680.036,50,680.036,50H605z"/>
<polygon points="738,650 738,800 813,725 "/>
<rect height="100" width="100" x="350" y="300"/>
<path d="M450,403"/>
<rect height="100" width="100" x="477.392" y="50"/>
<rect height="100" width="100" x="411" y="180"/>
<rect height="280" width="150" x="830" y="600"/>
<path d="M175,600h150c0,0,0-120,0,130S75,980,75,980H20V830c0,0-51.286,0,51.857,0S175,730,175,730V600z"/>
<polygon points="980,902 830,902 905,977 "/>
</svg></div><div class="label">Jack Q</div></div></div></header><div class="aside-left"><div class="aside-header"><div class="wrapper"><div class="icon"><svg viewBox="0 0 1000 1000" x="0px" xml:space="preserve" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" y="0px">
<polygon points="20,20 250,20 20,250 "/>
<polygon points="325,20 325,400 175,400 175,140 295,20 "/>
<circle cx="249.89" cy="499.769" r="75"/>
<path d="M350,425h150v74.962c0,0,2.72,150.038,150.426,150.038S715,650,715,650v150c0,0,239.892,0-64.574,0 C350.325,800,350,499.962,350,499.962V425z"/>
<circle cx="905" cy="500" r="75"/>
<path d="M605,50v150h75.036c0,0,149.964,2.896,149.964,150.552S830,400,830,400h150c0,0,0,254.915,0-49.448 C980,50.552,680.036,50,680.036,50H605z"/>
<polygon points="738,650 738,800 813,725 "/>
<rect height="100" width="100" x="350" y="300"/>
<path d="M450,403"/>
<rect height="100" width="100" x="477.392" y="50"/>
<rect height="100" width="100" x="411" y="180"/>
<rect height="280" width="150" x="830" y="600"/>
<path d="M175,600h150c0,0,0-120,0,130S75,980,75,980H20V830c0,0-51.286,0,51.857,0S175,730,175,730V600z"/>
<polygon points="980,902 830,902 905,977 "/>
</svg></div><div class="name">Jack Q</div></div></div><div class="aside-center"><div class="icon-header"><div class="icon-item"><a href="/blog/" data-smooth="data-smooth" data-smooth-type="list"><i class="material-icons">home</i><span class="tooltip">home</span></a></div><div class="icon-item"><span data-content="tag"><i class="material-icons">label_outline</i><span class="tooltip">tag</span></span></div><div class="icon-item"><span data-content="category"><i class="material-icons">folder_open</i><span class="tooltip">category</span></span></div><div class="icon-item"><span data-content="archive"><i class="material-icons">date_range</i><span class="tooltip">archive</span></span></div><div class="icon-item toc-header"><span data-content="content"><i class="material-icons">toc</i><span class="tooltip">content</span></span></div></div><div class="aside-center-content"><section class="aside-tag"><ul class="tag-list"><li class="tag-list-item"><a class="tag-list-link" href="/blog/tags/c/" data-smooth="data-smooth" data-smooth-type="list">C++</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/blog/tags/graphviz/" data-smooth="data-smooth" data-smooth-type="list">GraphViz</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/blog/tags/java/" data-smooth="data-smooth" data-smooth-type="list">Java</a><span class="tag-list-count">5</span></li><li class="tag-list-item"><a class="tag-list-link" href="/blog/tags/r/" data-smooth="data-smooth" data-smooth-type="list">R</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/blog/tags/blog/" data-smooth="data-smooth" data-smooth-type="list">blog</a><span class="tag-list-count">4</span></li><li class="tag-list-item"><a class="tag-list-link" href="/blog/tags/cas/" data-smooth="data-smooth" data-smooth-type="list">cas</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/blog/tags/git/" data-smooth="data-smooth" data-smooth-type="list">git</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/blog/tags/gpg/" data-smooth="data-smooth" data-smooth-type="list">gpg</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/blog/tags/gulp/" data-smooth="data-smooth" data-smooth-type="list">gulp</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/blog/tags/hexo/" data-smooth="data-smooth" data-smooth-type="list">hexo</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/blog/tags/installation/" data-smooth="data-smooth" data-smooth-type="list">installation</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/blog/tags/java/" data-smooth="data-smooth" data-smooth-type="list">java</a><span class="tag-list-count">4</span></li><li class="tag-list-item"><a class="tag-list-link" href="/blog/tags/javascript/" data-smooth="data-smooth" data-smooth-type="list">javascript</a><span class="tag-list-count">3</span></li><li class="tag-list-item"><a class="tag-list-link" href="/blog/tags/jekyll/" data-smooth="data-smooth" data-smooth-type="list">jekyll</a><span class="tag-list-count">3</span></li><li class="tag-list-item"><a class="tag-list-link" href="/blog/tags/linux/" data-smooth="data-smooth" data-smooth-type="list">linux</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/blog/tags/network/" data-smooth="data-smooth" data-smooth-type="list">network</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/blog/tags/npm/" data-smooth="data-smooth" data-smooth-type="list">npm</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/blog/tags/python/" data-smooth="data-smooth" data-smooth-type="list">python</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/blog/tags/react/" data-smooth="data-smooth" data-smooth-type="list">react</a><span class="tag-list-count">3</span></li><li class="tag-list-item"><a class="tag-list-link" href="/blog/tags/requirejs/" data-smooth="data-smooth" data-smooth-type="list">requirejs</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/blog/tags/ros/" data-smooth="data-smooth" data-smooth-type="list">ros</a><span class="tag-list-count">3</span></li><li class="tag-list-item"><a class="tag-list-link" href="/blog/tags/tex/" data-smooth="data-smooth" data-smooth-type="list">tex</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/blog/tags/theme/" data-smooth="data-smooth" data-smooth-type="list">theme</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/blog/tags/visualization/" data-smooth="data-smooth" data-smooth-type="list">visualization</a><span class="tag-list-count">2</span></li></ul></section><section class="aside-category"><ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/blog/categories/blog/" data-smooth="data-smooth" data-smooth-type="list">blog</a><span class="category-list-count">4</span></li><li class="category-list-item"><a class="category-list-link" href="/blog/categories/javascript/" data-smooth="data-smooth" data-smooth-type="list">javascript</a><span class="category-list-count">3</span></li><li class="category-list-item"><a class="category-list-link" href="/blog/categories/linux/" data-smooth="data-smooth" data-smooth-type="list">linux</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/blog/categories/network/" data-smooth="data-smooth" data-smooth-type="list">network</a><span class="category-list-count">1</span></li></ul></section><section class="aside-archive"><ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/blog/archives/2017/08/" data-smooth="data-smooth" data-smooth-type="list"><span>Aug</span><span>2017</span></a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/blog/archives/2017/07/" data-smooth="data-smooth" data-smooth-type="list"><span>Jul</span><span>2017</span></a><span class="archive-list-count">5</span></li><li class="archive-list-item"><a class="archive-list-link" href="/blog/archives/2017/05/" data-smooth="data-smooth" data-smooth-type="list"><span>May</span><span>2017</span></a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/blog/archives/2017/04/" data-smooth="data-smooth" data-smooth-type="list"><span>Apr</span><span>2017</span></a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/blog/archives/2017/03/" data-smooth="data-smooth" data-smooth-type="list"><span>Mar</span><span>2017</span></a><span class="archive-list-count">12</span></li><li class="archive-list-item"><a class="archive-list-link" href="/blog/archives/2017/02/" data-smooth="data-smooth" data-smooth-type="list"><span>Feb</span><span>2017</span></a><span class="archive-list-count">8</span></li><li class="archive-list-item"><a class="archive-list-link" href="/blog/archives/2017/01/" data-smooth="data-smooth" data-smooth-type="list"><span>Jan</span><span>2017</span></a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/blog/archives/2015/09/" data-smooth="data-smooth" data-smooth-type="list"><span>Sep</span><span>2015</span></a><span class="archive-list-count">4</span></li><li class="archive-list-item"><a class="archive-list-link" href="/blog/archives/2015/08/" data-smooth="data-smooth" data-smooth-type="list"><span>Aug</span><span>2015</span></a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/blog/archives/2015/07/" data-smooth="data-smooth" data-smooth-type="list"><span>Jul</span><span>2015</span></a><span class="archive-list-count">2</span></li></ul></section><section class="aside-content"><ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#Configuration"><span class="toc-text">Configuration</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Create-a-directory"><span class="toc-text">Create a directory</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Configure-npm"><span class="toc-text">Configure npm</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Configure-system-paths"><span class="toc-text">Configure system paths</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Benefits"><span class="toc-text">Benefits</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Other-approaches"><span class="toc-text">Other approaches</span></a></li></ol></section></div></div><div class="aside-bottom"><div class="aside-contact"><a class="aside-contact-item" href="https://github.com/Jack-Q/" title="Profile at GitHub" target="_blank"><svg class="aside-github" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9 19c-5 1.5-5-2.5-7-3m14 6v-3.87a3.37 3.37 0 0 0-.94-2.61c3.14-.35 6.44-1.54 6.44-7A5.44 5.44 0 0 0 20 4.77 5.07 5.07 0 0 0 19.91 1S18.73.65 16 2.48a13.38 13.38 0 0 0-7 0C6.27.65 5.09 1 5.09 1A5.07 5.07 0 0 0 5 4.77a5.44 5.44 0 0 0-1.5 3.78c0 5.42 3.3 6.61 6.44 7A3.37 3.37 0 0 0 9 18.13V22"></path></svg></a><a class="aside-contact-item" href="https://www.facebook.com/JackQ2010" title="Profile at Facebook" target="_blank"><svg class="aside-facebook" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z"></path></svg></a><a class="aside-contact-item" href="https://twitter.com/Jack_Q_2010" title="Profile at Twitter" target="_blank"><svg class="aside-twitter" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M23 3a10.9 10.9 0 0 1-3.14 1.53 4.48 4.48 0 0 0-7.86 3v1A10.66 10.66 0 0 1 3 4s-4 9 5 13a11.64 11.64 0 0 1-7 2c9 5 20 0 20-11.5a4.5 4.5 0 0 0-.08-.83A7.72 7.72 0 0 0 23 3z"></path></svg></a><a class="aside-contact-item" href="mailto:qiaobo@outlook.com?subject=Mail%20from%20blog" title="Send Mail" target="_blank"><svg class="aside-mail" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"></path>
<polyline points="22,6 12,13 2,6"></polyline></svg></a></div><div class="aside-copy">2017 &copy; Jack Q</div></div></div></aside><section class="page-loader"><div class="loading-animate"></div><div class="error-animate"><i class="material-icons">error</i><div class="message">Network Error...</div><div class="suggestion">Check your network connection and reload or refresh this page.</div></div></section><section class="article-content" itemscope itemtype="http://schema.org/Article" role="main"><h1 itemprop="name">Install Global npm Package For Current User Without Privilege</h1><div class="post-meta"><a class="meta-date" href="/blog/archives/2017/07/" data-smooth="data-smooth" data-smooth-type="list"><span itemprop="datePublished" content="2017-07-30">2017-07-30</span></a><span class="meta-categories"><ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/blog/categories/javascript/" data-smooth="data-smooth" data-smooth-type="list">javascript</a></li></ul></span><span class="meta-tags"><ul class="tag-list"><li class="tag-list-item"><a class="tag-list-link" href="/blog/tags/javascript/" data-smooth="data-smooth" data-smooth-type="list">javascript</a></li><li class="tag-list-item"><a class="tag-list-link" href="/blog/tags/npm/" data-smooth="data-smooth" data-smooth-type="list">npm</a></li></ul></span></div><div class="post-content"><p>NPM is the most used package manager for node.js and JavaScript ecosystems.
By using the global packages mechanism, a node.js package can be easily integrated 
into system shell and just works like a native command line utility (or even an 
desktop GUI program). However, by default, the global packages are installed as shared 
global packages across users and requires root privilege for maintenance, which may be
unavailable for general user and also expose potential conflict of packages between 
users. This post will cover simple configuration for npm global package for current 
user only.</p>
<a id="more"></a>
<h2 id="Configuration" class="article-heading">Configuration<a class="article-anchor" href="#Configuration" data-smooth="" data-smooth-type="post" aria-hidden="true"></a></h2><p>The configuration requires two steps: telling npm where to find global packages for 
current user and telling system where to find executable (as well as man files) 
provided by npm global packages.</p>
<h3 id="Create-a-directory" class="article-heading">Create a directory<a class="article-anchor" href="#Create-a-directory" data-smooth="" data-smooth-type="post" aria-hidden="true"></a></h3><p>Create an directory for later usage:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">mkdir -p ~/.npm-global</div><div class="line"><span class="built_in">echo</span> <span class="string">'directory for global items of npm packages'</span> &gt; ~/.npm-global/README</div></pre></td></tr></table></figure>
<h3 id="Configure-npm" class="article-heading">Configure <code>npm</code><a class="article-anchor" href="#Configure-npm" data-smooth="" data-smooth-type="post" aria-hidden="true"></a></h3><p>When <code>npm</code> starts, it read configurations from <code>~/.npmrc</code> (<code>.npmrc</code> located at home
directory of current user). The configuration entry for the location of global package 
is <code>prefix</code>, which is officially stated as follows:</p>
<blockquote>
<p>The location to install global items. If set on the command line, then it forces non-global commands to run in the specified folder.</p>
</blockquote>
<p>Therefore, add the following configuration line to <code>~/.npmrc</code> (which sets the root of 
global package path to <code>~/.npm-global</code>). The choice of folder name has no specified restriction while a name derived from “npm” may be more preferable. (By default, <code>~/.npm</code> is already used by npm as cache directory of downloaded packages.)</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="comment"># content of ~/.npmrc </span></div><div class="line"></div><div class="line"><span class="comment"># location for global packages</span></div><div class="line">prefix=<span class="variable">$&#123;HOME&#125;</span>/.npm-global</div></pre></td></tr></table></figure>
<p>By the way, <code>.npmrc</code> is can also configure other entries. For example, the following 
section are configuration entry related to <code>npm init</code> command for npm project
initialization.</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="comment"># npm-init configuration</span></div><div class="line">init-author-name=<span class="string">"Jack Q"</span></div><div class="line">init-author-url=<span class="string">"https://jack-q.github.io/"</span></div><div class="line">init-licence=<span class="string">"MIT"</span></div><div class="line">init-version=<span class="string">"0.0.1"</span></div></pre></td></tr></table></figure>
<p>For a complete list of supported configuration entry, refer to <a href="https://docs.npmjs.com/misc/config" target="_blank" rel="external">npm-config</a> page of npm document.</p>
<h3 id="Configure-system-paths" class="article-heading">Configure system paths<a class="article-anchor" href="#Configure-system-paths" data-smooth="" data-smooth-type="post" aria-hidden="true"></a></h3><p>Modern operating systems use environment variable <code>PATH</code> as a list of location of file 
system in which  operating systems resolve executable name to their full path.
Apart from <code>PATH</code> for system to resolve executable, some other programs also use 
path list in environment variable to resolve other resources, like <code>man</code> (manual 
utility of POSIX) pages.</p>
<p>For global npm packages, the executable are located at <code>~/&lt;npm-global-package&gt;/bin</code> while the manual pages are located at <code>~/&lt;npm-global-package&gt;/bin</code>. Add the following exported environment variable to <code>`~/.profile</code> or dedicated configuration file for login shell (like <code>~/.bashrc</code>, <code>~/.zshrc</code>, etc.).</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line"><span class="comment"># Local NPM global packages</span></div><div class="line"><span class="built_in">export</span> NPM_PACKAGES=<span class="string">"<span class="variable">$&#123;HOME&#125;</span>/.npm-global"</span></div><div class="line"><span class="comment"># add npm executable to path</span></div><div class="line"><span class="built_in">export</span> PATH=<span class="string">"<span class="variable">$NPM_PACKAGES</span>/bin:<span class="variable">$PATH</span>"</span></div><div class="line"><span class="comment"># add npm command manual pages</span></div><div class="line"><span class="built_in">unset</span> MANPATH</div><div class="line"><span class="built_in">export</span> MANPATH=<span class="string">"<span class="variable">$NPM_PACKAGES</span>/share/man:<span class="variable">$(manpath)</span>"</span></div></pre></td></tr></table></figure>
<h2 id="Benefits" class="article-heading">Benefits<a class="article-anchor" href="#Benefits" data-smooth="" data-smooth-type="post" aria-hidden="true"></a></h2><p>This additional step after general installation of npm provides th following benefits.</p>
<ul>
<li>Enable the use of global package without root privilege, which reduces the risk of 
privileged actions;</li>
<li>Enable the transition of global package for different operating systems or system
reinstallation;</li>
<li>Limit the application scope of global packages and reduce the possibility of
conflict between users.</li>
</ul>
<h2 id="Other-approaches" class="article-heading">Other approaches<a class="article-anchor" href="#Other-approaches" data-smooth="" data-smooth-type="post" aria-hidden="true"></a></h2><p>The method introduced above is just manually configure everything 
required for specifying the root directory of global npm package
(the <code>prefix</code> config entry), which can be automated as a single 
shell script. </p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div></pre></td><td class="code"><pre><div class="line"><span class="comment"># npm global package directory</span></div><div class="line">NPM_GLOBAL_DIR=<span class="string">".npm-global"</span></div><div class="line"></div><div class="line"><span class="comment"># prep directory</span></div><div class="line">mkdir -p ~/<span class="variable">$&#123;NPM_GLOBAL_DIR&#125;</span></div><div class="line"><span class="built_in">echo</span> <span class="string">'directory for global items of npm packages'</span> \</div><div class="line">    &gt; ~/<span class="variable">$&#123;NPM_GLOBAL_DIR&#125;</span>/README</div><div class="line"></div><div class="line"><span class="built_in">echo</span> <span class="string">"prefix=\$&#123;HOME&#125;/<span class="variable">$&#123;NPM_GLOBAL_DIR&#125;</span>"</span> &gt;&gt; ~/.npmrc</div><div class="line"></div><div class="line"><span class="comment"># config path</span></div><div class="line">cat &lt;&lt; EOF &gt;&gt; ~/.profile</div><div class="line"><span class="comment"># Local NPM global packages</span></div><div class="line"><span class="built_in">export</span> NPM_PACKAGES=<span class="string">"\$&#123;HOME&#125;/<span class="variable">$&#123;NPM_GLOBAL_DIR&#125;</span>"</span></div><div class="line"><span class="comment"># add npm executable to path</span></div><div class="line"><span class="built_in">export</span> PATH=<span class="string">"\$NPM_PACKAGES/bin:\$PATH"</span></div><div class="line"><span class="comment"># add npm command manual pages</span></div><div class="line"><span class="built_in">unset</span> MANPATH</div><div class="line"><span class="built_in">export</span> MANPATH=<span class="string">"<span class="variable">$NPM_PACKAGES</span>/share/man:\$(manpath)"</span></div><div class="line">EOF</div></pre></td></tr></table></figure>
<p>Besides, official site of NPM also contains a guide for this at <a href="https://docs.npmjs.com/getting-started/fixing-npm-permissions#option-2-change-npms-default-directory-to-another-directory" target="_blank" rel="external">fix NPM permission</a>
page, which can be referenced.</p>
</div><div class="post-licence" tabindex="0"><div class="post-licence-icon" title="CC-BY-SA 4.0"><i class="cc cc-cc"></i><i class="cc cc-by"></i><i class="cc cc-sa"></i></div><div class="post-licence-text"><div class="post-licence-label">CC-BY-SA 4.0</div>The content of this post is licensed under a <a rel="license" href="http://creativecommons.org/licenses/by-sa/4.0/" target="_blank">Creative Commons Attribution-ShareAlike 4.0 International License</a>.</div></div><div class="post-content-end">END</div><div class="post-prev-next"><div class="post-prev"><a class="post-prev-link" href="/blog/2017/07/12/vector-of-bool-in-c/" data-smooth="data-smooth" data-smooth-type="post">vector of bool in C++</a></div><div class="post-next"><a class="post-next-link" href="/blog/2017/08/06/sign-git-commit-with-gpg/" data-smooth="data-smooth" data-smooth-type="post">Sign Git Commit with GPG</a></div></div><div class="post-comment"><div id="disqus_thread">Disqus is loading...</div></div><script id="disqus_config" data-disqus-url="https://jack-q.github.io/blog/2017/07/30/install-global-npm-package-for-current-user-without-privilege/" data-disqus-identifier="20170730-NPMGLOBAL" data-disqus-title="Install Global npm Package For Current User Without Privilege">window.disqus_config = function () {
  var conf = document.getElementById('disqus_config')
  this.page = this.page || {};
  this.page.url = conf.dataset['disqusUrl'];  
  this.page.identifier = conf.dataset['disqusIdentifier'];
  this.page.title = conf.dataset['disqusTitle'];
};</script><script id="disqus_loader">(function() {
  if(document.getElementById('script-disqus')) return;
  var d = document, s = d.createElement('script');
  s.src = '//jackq.disqus.com/embed.js';
  s.id='script-disqus';
  s.setAttribute('data-timestamp', +new Date());
  (d.head || d.body).appendChild(s);
})();</script></section><script>if(!window.ga){
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-63336636-1', 'auto');
  ga('send', 'pageview');
}
</script><script src="/blog/js/jquery.min.js?v=20170818"></script><script src="/blog/js/main.js?v=20170818"></script></body></html>