mixin site-aside()
  aside.jq-blog-aside
    header.jq-nav-header
      .nav-bar-toggle(title="toggle sidebar")
        span.toggle-line-1
        span.toggle-line-2
        span.toggle-line-3
      .nav-bar
        .nav-bar-icon
          .icon
            <svg viewBox="0 0 1000 1000" x="0px" xml:space="preserve" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" y="0px">
              <polygon points="20,20 250,20 20,250 "/>
              <polygon points="325,20 325,400 175,400 175,140 295,20 "/>
              <circle cx="249.89" cy="499.769" r="75"/>
              <path d="M350,425h150v74.962c0,0,2.72,150.038,150.426,150.038S715,650,715,650v150c0,0,239.892,0-64.574,0 C350.325,800,350,499.962,350,499.962V425z"/>
              <circle cx="905" cy="500" r="75"/>
              <path d="M605,50v150h75.036c0,0,149.964,2.896,149.964,150.552S830,400,830,400h150c0,0,0,254.915,0-49.448 C980,50.552,680.036,50,680.036,50H605z"/>
              <polygon points="738,650 738,800 813,725 "/>
              <rect height="100" width="100" x="350" y="300"/>
              <path d="M450,403"/>
              <rect height="100" width="100" x="477.392" y="50"/>
              <rect height="100" width="100" x="411" y="180"/>
              <rect height="280" width="150" x="830" y="600"/>
              <path d="M175,600h150c0,0,0-120,0,130S75,980,75,980H20V830c0,0-51.286,0,51.857,0S175,730,175,730V600z"/>
              <polygon points="980,902 830,902 905,977 "/>
            </svg>
          .label Jack Q
    .aside-left
      .aside-header
        .wrapper
          .icon
            <svg viewBox="0 0 1000 1000" x="0px" xml:space="preserve" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" y="0px">
              <polygon points="20,20 250,20 20,250 "/>
              <polygon points="325,20 325,400 175,400 175,140 295,20 "/>
              <circle cx="249.89" cy="499.769" r="75"/>
              <path d="M350,425h150v74.962c0,0,2.72,150.038,150.426,150.038S715,650,715,650v150c0,0,239.892,0-64.574,0 C350.325,800,350,499.962,350,499.962V425z"/>
              <circle cx="905" cy="500" r="75"/>
              <path d="M605,50v150h75.036c0,0,149.964,2.896,149.964,150.552S830,400,830,400h150c0,0,0,254.915,0-49.448 C980,50.552,680.036,50,680.036,50H605z"/>
              <polygon points="738,650 738,800 813,725 "/>
              <rect height="100" width="100" x="350" y="300"/>
              <path d="M450,403"/>
              <rect height="100" width="100" x="477.392" y="50"/>
              <rect height="100" width="100" x="411" y="180"/>
              <rect height="280" width="150" x="830" y="600"/>
              <path d="M175,600h150c0,0,0-120,0,130S75,980,75,980H20V830c0,0-51.286,0,51.857,0S175,730,175,730V600z"/>
              <polygon points="980,902 830,902 905,977 "/>
            </svg>
          .name Jack Q

      .aside-center
        .icon-header
          .icon-item
            a(href=url_for('/'), 'data-smooth', 'data-smooth-type'='list')
              i.material-icons home
              span.tooltip home
          .icon-item
            span(data-content='tag')
              i.material-icons label_outline
              span.tooltip tag
          .icon-item
            span(data-content='category')
              i.material-icons folder_open
              span.tooltip category
          .icon-item
            span(data-content='archive')
              i.material-icons date_range
              span.tooltip archive
          
          .icon-item.toc-header(class={
            hidden: !(page.content && toc(page.content))
          })
            span(data-content='content')
              i.material-icons toc
              span.tooltip content

        .aside-center-content
          section.aside-tag
            != anchor_smooth(list_tags())
            
          section.aside-category
            != anchor_smooth(list_categories())

          section.aside-archive
            //- wrap month and year with span tag for styling
            != anchor_smooth(list_archives({format: "MMM YYYY", transform: s=>`<span>${s.split(' ')[0]}</span><span>${s.split(' ')[1]}</span>`}))

          if page.content && toc(page.content)
            section.aside-content
              != toc(clear_anchor(page.content), {list_number: false})

      .aside-bottom
        .aside-contact
          if config.author_profile && config.author_profile.github
            a.aside-contact-item(href=`https://github.com/${config.author_profile.github}/`, title="Profile at GitHub", target="_blank")
              svg.aside-github(xmlns="http://www.w3.org/2000/svg", viewBox="0 0 24 24")
                <path d="M9 19c-5 1.5-5-2.5-7-3m14 6v-3.87a3.37 3.37 0 0 0-.94-2.61c3.14-.35 6.44-1.54 6.44-7A5.44 5.44 0 0 0 20 4.77 5.07 5.07 0 0 0 19.91 1S18.73.65 16 2.48a13.38 13.38 0 0 0-7 0C6.27.65 5.09 1 5.09 1A5.07 5.07 0 0 0 5 4.77a5.44 5.44 0 0 0-1.5 3.78c0 5.42 3.3 6.61 6.44 7A3.37 3.37 0 0 0 9 18.13V22"></path>

          if config.author_profile && config.author_profile.facebook
            a.aside-contact-item(href=`https://www.facebook.com/${config.author_profile.facebook}`, title="Profile at Facebook", target="_blank")
              svg.aside-facebook(xmlns="http://www.w3.org/2000/svg", viewBox="0 0 24 24")
                <path d="M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z"></path>
          
          if config.author_profile && config.author_profile.twitter
            a.aside-contact-item(href=`https://twitter.com/${config.author_profile.twitter}`, title="Profile at Twitter", target="_blank")
              svg.aside-twitter(xmlns="http://www.w3.org/2000/svg", viewBox="0 0 24 24")
                <path d="M23 3a10.9 10.9 0 0 1-3.14 1.53 4.48 4.48 0 0 0-7.86 3v1A10.66 10.66 0 0 1 3 4s-4 9 5 13a11.64 11.64 0 0 1-7 2c9 5 20 0 20-11.5a4.5 4.5 0 0 0-.08-.83A7.72 7.72 0 0 0 23 3z"></path>
          
          if config.author_profile && config.author_profile.email
            a.aside-contact-item(href=`mailto:${config.author_profile.email}?subject=Mail%20from%20blog`, title="Send Mail", target="_blank")
              svg.aside-mail(xmlns="http://www.w3.org/2000/svg", viewBox="0 0 24 24")
                <path d="M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"></path>
                <polyline points="22,6 12,13 2,6"></polyline>
          
          if config.author_profile && config.author_profile.stackoverflow
            a.aside-contact-item(href=`https://stackoverflow.com/users/${config.author_profile.stackoverflow}/?tab=profile`, title="Send Mail", target="_blank")
              svg.aside-stackoverflow(xmlns="http://www.w3.org/2000/svg", viewBox="0 0 24 24")
                <path d="M3 15V23H21V15M6.2 18.5H16.8M6.67 13.7L17.13 15.86M8.33 8.81L17.92 13.32M11.38 4.23L19.58 11.1M15.06 0.74L21.42 9.25z"></polyline>

        .aside-copy #{new Date().getFullYear()} &copy; Jack Q
